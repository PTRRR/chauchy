<script lang="ts">
	import ImagesRow from '$lib/components/ImagesRow.svelte';
	import { onMount } from 'svelte';
	import type { PageData } from './$types';
	let { data }: { data: PageData } = $props();

	let overlayImage = $state('');

	onMount(() => {
		const allImages = document.querySelectorAll('section img');

		for (const image of allImages) {
			image.addEventListener('click', () => {
				overlayImage = image.getAttribute('src') || '';
			});
		}

		const allAnchors = document.querySelectorAll('.anchor');

		for (const anchor of allAnchors) {
			anchor.addEventListener('click', (e) => {
				e.preventDefault();
				const href = anchor.getAttribute('href') || '';
				const target = document.querySelector(href);
				target?.scrollIntoView({
					behavior: 'smooth',
					block: 'nearest'
				});
			});
		}
	});
</script>

<svelte:head>
	<title>Chauchy</title>
	<meta
		name="description"
		content="Ancienne grange du 18·µâ si√®cle au c≈ìur du village de Denes, enti√®rement r√©nov√©e selon des
				principes √©cologiques proposant une un habitat √©cologique, participatif, responsable et
				solidaire."
	/>
</svelte:head>

{#if overlayImage}
	<!-- svelte-ignore a11y_click_events_have_key_events -->
	<!-- svelte-ignore a11y_no_static_element_interactions -->
	<div class="image-overlay" onclick={() => (overlayImage = '')}>
		<img src={overlayImage} alt="" />
	</div>
{/if}

<div class="page">
	<div class="hero">
		<div class="title">
			<h1>CHAUCHY</h1>
			<p>Une proposition pour un habitat √©cologique, participatif, responsable et solidaire.</p>
		</div>
		<img src="/images/resized/002b_AXO.jpg" alt="" />
		<a class="anchor" href="#nouvelle-place">‚Üì</a>
	</div>

	<section id="nouvelle-place">
		<h2>Une place se lib√®re dans notre habitat partag√© √† Denens</h2>

		<p>
			Disponible maintenant, unit√© de 49 m¬≤ dans une maison interg√©n√©rationnelle r√©nov√©e
			√©cologiquement
		</p>

		<ul>
			<li>
				<h3>Loyer</h3>
				1890 CHF/mois
			</li>
			<li>
				<h3>Espaces partag√©s</h3>
				130 m¬≤ (cuisine, salle √† manger, salon) + 2 grands jardins avec potager
			</li>
			<li>
				<h3>Option</h3>
				Subdivision possible en 2 chambres (14 m¬≤ √† 798 CHF + 25 m¬≤ √† 1118 CHF), partageant une salle
				de bain
			</li>
			<li>
				<h3>Localisation</h3>
				Denens ‚Äì 10 min en bus de Morges, 30 min de Lausanne
			</li>
			<li>
				<h3>Nous sommes</h3>
				8 habitants de 1 √† 40 ans qui partageons le go√ªt de la bonne cuisine, de la nature, de la musique
				et d'une vie conviviale tout en pr√©servant l'intimit√© de chacun.
			</li>
		</ul>

		<p>
			üëâ Int√©ress√©¬∑e ? Contacte-nous : <a href="mailto:info@chauchy.ch">info@chauchy.ch</a> ‚Äì √©cris-nous
			quelques lignes sur qui tu es et pourquoi tu souhaiterais habiter ici.
		</p>
	</section>

	<section class="full">
		<ImagesRow items={data.imageGroupDimensions[1]} />
	</section>

	<section id="maison">
		<h2>La maison</h2>
		<p>
			Ancienne grange du 18·µâ si√®cle au c≈ìur du village, enti√®rement r√©nov√©e selon des principes
			√©cologiques :
		</p>

		<ul>
			<li>Mat√©riaux biosourc√©s</li>
			<li>Toilettes aliment√©es √† l'eau de pluie</li>
			<li>√âlectricit√© photovolta√Øque ‚ö°</li>
			<li>Architecture pens√©e pour favoriser la vie partag√©e</li>
		</ul>

		<img src="/images/resized/000.jpg" alt="" />

		<p>Les espaces communs se d√©ploient sur 4 niveaux :</p>

		<ul>
			<li>
				<h3>Rez-de-chauss√©e</h3>
				Buanderie et espace polyvalent avec acc√®s au jardin
			</li>
			<li>
				<h3>1er √©tage</h3>
				Grande cuisine conviviale avec coin repas
			</li>
			<li>
				<h3>2e √©tage</h3>
				Salon avec vue et chemin√©e
			</li>
			<li>
				<h3>Combles</h3>
				Espace modulable de 20 m¬≤ (atelier, chambre d'amis, coin d√©tente...)
			</li>
		</ul>

		<p>
			Les grands jardins sont enti√®rement √† disposition des habitant¬∑e¬∑s pour cultiver, se d√©tendre
			ou cr√©er.
		</p>
	</section>

	<section class="full">
		<ImagesRow items={data.imageGroupDimensions[0]} />
	</section>

	<section id="life">
		<h2>La vie ici</h2>
		<div class="text">
			<p>
				Notre habitat r√©unit actuellement 8 personnes de tous √¢ges dans une ambiance chaleureuse et
				dynamique. Nous aimons cuisiner ensemble, jardiner, faire de la musique, partir en montagne,
				et profiter des moments partag√©s autour d'un jeu ou d'une bonne tarte maison üç∞ L'immeuble
				accueille plusieurs familles et enfants, cr√©ant un v√©ritable esprit de communaut√© tout en
				respectant l'intimit√© et l'autonomie de chacun.
			</p>

			<p>
				L'immeuble accueille plusieurs familles et enfants, cr√©ant un v√©ritable esprit de communaut√©
				tout en respectant l'intimit√© et l'autonomie de chacun.
			</p>
		</div>
	</section>

	<section>
		<img src="/images/resized/001.jpg" alt="" />
	</section>

	<section id="denens">
		<h2>Le village de Denens</h2>

		<p>Village viticole de 750 habitants dominant le lac L√©man et les Alpes, Denens offre :</p>

		<ul>
			<li>Une boulangerie</li>
			<li>Un restaurant tha√Ølandais</li>
			<li>Une √©cole primaire</li>
			<li>Bus r√©guliers vers Morges (726) ‚Äì connexions vers Lausanne et Gen√®ve</li>
			<li>Acc√®s facile en mobilit√© douce (v√©lo : 5 km de Morges)</li>
		</ul>

		<img src="/images/resized/010_CARTES_WEB_A43.jpg" alt="" />

		<ImagesRow items={data.imageGroupDimensions[4]} />
	</section>

	<section id="cluster">
		<h2>Le concept "cluster"</h2>

		<p>
			Notre habitat s'inspire du mod√®le du cluster : des unit√©s priv√©es autonomes (avec salle de
			bain et kitchenette) organis√©es autour de g√©n√©reux espaces communs. Cette organisation offre :
		</p>

		<ul>
			<li>Plus d'autonomie qu'une colocation classique</li>
			<li>Plus d'interactions sociales qu'un studio</li>
			<li>La flexibilit√© pour s'adapter aux diff√©rentes √©tapes de vie</li>
		</ul>

		<img src="/images/resized/002.jpg" alt="" />
	</section>

	<section id="philosophie">
		<h2>Philosophie du projet</h2>
		<p>
			Au-del√† du simple logement, Chauchy est une exploration concr√®te d'un mode d'habitat plus
			durable socialement et √©cologiquement. Dans un contexte o√π les villages doivent r√©inventer
			leur mod√®le de d√©veloppement, ce projet propose une alternative aux formes d'habitat
			dominantes : mutualisation des espaces et des ressources, mixit√© interg√©n√©rationnelle, ancrage
			local, et sobri√©t√© assum√©e. Un terreau fertile pour une vie plus √©coresponsable et solidaire.
			üå±
		</p>
	</section>

	<section id="plans">
		<h2>Plans</h2>
		<img src="/images/resized/004d_Option_subdivision.jpg" alt="" />
	</section>

	<section class="full">
		<ImagesRow items={data.imageGroupDimensions[2]} />
		<ImagesRow items={data.imageGroupDimensions[3]} />
	</section>
</div>

<style lang="scss">
	.image-overlay {
		position: fixed;
		top: 0;
		left: 0;
		background-color: #fbfaf8;
		width: 100%;
		height: 100%;
		z-index: 100;
		padding: 5rem;
		box-sizing: border-box;
		cursor: pointer;

		img {
			width: 100%;
			height: 100%;
			object-fit: contain;
		}
	}

	.anchor {
		color: black;
		text-decoration: none;
	}

	.page {
		display: flex;
		flex-direction: column;
		gap: 4rem;
		padding-bottom: 4rem;
	}

	.hero {
		width: 100%;
		height: 100vh;
		height: 100svh;
		display: flex;
		position: relative;
		background-color: white;

		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			opacity: 0.4;
		}

		.title {
			position: absolute;
			top: 0;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			z-index: 10;
			text-align: center;
			max-width: 35rem;
			width: 100%;

			h1 {
				font-size: 6rem;
				margin: 0;
				font-weight: 200;
			}

			p {
				font-size: 1.5rem;
				font-weight: 500;
			}
		}

		a {
			position: absolute;
			bottom: 0;
			left: 50%;
			transform: translate(-50%, 0%);
			font-size: 6rem;
			font-weight: 100;
		}
	}

	section {
		width: 100%;
		max-width: 60rem;
		margin: auto;
		padding: 0 1rem;
		font-size: 1.5rem;
		box-sizing: border-box;
		display: flex;
		flex-direction: column;
		gap: 4rem;

		&.full {
			max-width: initial;
			padding: 0;
		}

		h2 {
			font-weight: 200;
			/* text-align: center; */
			font-size: 3rem;
			margin: 0;
		}

		.text {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		p {
			margin: 0;
		}

		ul {
			/* max-width: 40rem; */
			/* list-style: none; */
			/* padding: 0; */
			margin: 0 0;
			padding: 0 4rem;
			font-weight: 200;

			li {
				h3 {
					font-size: inherit;
					margin: 0;
					font-weight: 500;
				}
			}

			li + li {
				margin-top: 0.8rem;
			}
		}

		:global {
			img {
				width: 100%;
				cursor: pointer;
			}
		}
	}

	@media screen and (max-width: 600px) {
		.image-overlay {
			padding: 1rem;
		}

		section {
			&.full {
				padding: 1rem;
			}

			ul {
				padding: 0 2rem;
			}
		}
	}
</style>
